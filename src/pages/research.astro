---
import BaseLayout from '../layouts/BaseLayout.astro';
import PaperTexture from '../components/PaperTexture.astro';
import DropCap from '../components/DropCap.astro';
import MarginNote from '../components/MarginNote.astro';
import HandDrawnDivider from '../components/HandDrawnDivider.astro';

// Publication data extracted from your live site
const publications = [
  {
    year: 2022,
    type: 'preprint',
    title: 'Some models are useful, but how do we know which ones? Towards a unified Bayesian model taxonomy',
    authors: ['Paul-Christian BÃ¼rkner', 'Maximilian Scholz', 'Stefan T. Radev'],
    venue: 'arXiv',
    links: {
      pdf: 'https://arxiv.org/pdf/2209.02439.pdf',
      doi: 'https://doi.org/10.48550/ARXIV.2209.02439'
    }
  },
  {
    year: 2022,
    type: 'preprint',
    title: 'Prediction can be safely used as a proxy for explanation in causally consistent Bayesian generalized linear models',
    authors: ['Maximilian Scholz', 'Paul-Christian BÃ¼rkner'],
    venue: 'arXiv',
    links: {
      pdf: 'https://arxiv.org/pdf/2210.06927.pdf',
      code: 'https://doi.org/10.5281/zenodo.7099513',
      data: 'https://doi.org/10.17605/OSF.IO/XGKZV',
      doi: 'https://doi.org/10.48550/ARXIV.2210.06927'
    }
  },
  {
    year: 2021,
    type: 'journal',
    title: 'An empirical study of Linespots: A novel past-fault algorithm',
    authors: ['Maximilian Scholz', 'Richard Torkar'],
    venue: 'Software Testing, Verification and Reliability (STVR)',
    links: {
      pdf: 'https://arxiv.org/pdf/2007.09394.pdf',
      code: 'https://github.com/sims1253/linespots-analysis/',
      doi: 'https://doi.org/10.1002/stvr.1787'
    }
  },
  {
    year: 2019,
    type: 'thesis',
    title: 'An Analysis of Linespots and its Utility in Realistic Scenarios',
    authors: ['Maximilian Scholz'],
    venue: 'Master\'s Thesis, Chalmers University of Technology',
    links: {
      code: 'https://github.com/sims1253/linespots-analysis/'
    }
  },
  {
    year: 2016,
    type: 'thesis',
    title: 'A Line Based Approach for Bugspots',
    authors: ['Maximilian Scholz'],
    venue: 'Bachelor\'s Thesis, Hamburg University of Technology',
    links: {
      code: 'https://github.com/sims1253/linespots-analysis/'
    }
  }
];

// Group publications by year
const publicationsByYear = publications.reduce((acc, pub) => {
  if (!acc[pub.year]) acc[pub.year] = [];
  acc[pub.year].push(pub);
  return acc;
}, {});

const years = Object.keys(publicationsByYear).sort((a, b) => b - a);
---

<BaseLayout 
  title="Research & Publications - Scholz MX"
  description="Academic publications and research work by Maximilian Scholz, PhD researcher in Bayesian statistics at the University of Stuttgart."
  footerVariant="default"
>
  <PaperTexture pattern="botanical" intensity="light" className="research-page">
    <div class="research-container">
      <header class="research-header">
        <h1 class="page-title">
          <DropCap letter="R" color="sage" style="ornate" />esearch & Publications
        </h1>
        <p class="research-intro">
          My research focuses on Bayesian statistics, model selection, and software engineering. 
          <MarginNote>
            <p>Currently pursuing a PhD at the University of Stuttgart, working on Bayesian methods and their applications.</p>
          </MarginNote>
          I'm particularly interested in the intersection of statistical modeling and practical applications in software quality and reliability.
        </p>
      </header>

      <HandDrawnDivider variant="vine" width="medium" />

      <section class="publications-section">
        <h2 class="section-title">Publications</h2>
        
        {years.map(year => (
          <div class="year-group">
            <h3 class="year-header">{year}</h3>
            <div class="publications-list">
              {publicationsByYear[year].map(pub => (
                <article class="publication-item">
                  <div class="publication-content">
                    <h4 class="publication-title">{pub.title}</h4>
                    <p class="publication-authors">
                      {pub.authors.map((author, index) => (
                        <span class={author === 'Maximilian Scholz' ? 'author-self' : 'author'}>
                          {author}{index < pub.authors.length - 1 ? ', ' : ''}
                        </span>
                      ))}
                    </p>
                    <p class="publication-venue">
                      <span class={`publication-type type-${pub.type}`}>
                        {pub.type === 'preprint' ? 'Preprint' : 
                         pub.type === 'journal' ? 'Journal Article' : 
                         pub.type === 'thesis' ? 'Thesis' : pub.type}
                      </span>
                      {pub.venue}
                    </p>
                    
                    {pub.links && (
                      <div class="publication-links">
                        {pub.links.pdf && (
                          <a href={pub.links.pdf} target="_blank" rel="noopener" class="pub-link pdf">
                            <span class="link-icon">ðŸ“„</span> PDF
                          </a>
                        )}
                        {pub.links.code && (
                          <a href={pub.links.code} target="_blank" rel="noopener" class="pub-link code">
                            <span class="link-icon">ðŸ’»</span> Code
                          </a>
                        )}
                        {pub.links.data && (
                          <a href={pub.links.data} target="_blank" rel="noopener" class="pub-link data">
                            <span class="link-icon">ðŸ“Š</span> Data
                          </a>
                        )}
                        {pub.links.doi && (
                          <a href={pub.links.doi} target="_blank" rel="noopener" class="pub-link doi">
                            <span class="link-icon">ðŸ”—</span> DOI
                          </a>
                        )}
                      </div>
                    )}
                  </div>
                </article>
              ))}
            </div>
          </div>
        ))}
      </section>

      <HandDrawnDivider variant="botanical" width="medium" />

      <section class="research-interests">
        <h2 class="section-title">Research Interests</h2>
        <div class="interests-grid">
          <div class="interest-item">
            <h3>Bayesian Statistics</h3>
            <p>Model selection, taxonomy, and unified approaches to Bayesian modeling</p>
          </div>
          <div class="interest-item">
            <h3>Causal Inference</h3>
            <p>Prediction as explanation in causally consistent statistical models</p>
          </div>
          <div class="interest-item">
            <h3>Software Engineering</h3>
            <p>Fault prediction algorithms and software quality metrics</p>
          </div>
        </div>
      </section>
    </div>
  </PaperTexture>
</BaseLayout>

<style>
  .research-page {
    min-height: 100vh;
    padding-top: 50px;
  }

  .research-container {
    max-width: 800px;
    margin: 0 auto;
    padding: var(--space-xl) var(--space-lg);
  }

  .research-header {
    margin-bottom: var(--space-xl);
  }

  .page-title {
    font-size: clamp(var(--text-xl), 3vw, var(--text-2xl));
    line-height: 1.2;
    margin-bottom: var(--space-md);
    color: var(--color-ink-dark);
  }

  .research-intro {
    font-size: var(--text-md);
    line-height: 1.6;
    color: var(--color-ink-medium);
    margin-bottom: var(--space-lg);
  }

  .section-title {
    font-size: var(--text-lg);
    color: var(--color-ink-dark);
    margin-bottom: var(--space-md);
    font-weight: 600;
  }

  .publications-section {
    margin-bottom: var(--space-xl);
  }

  .year-group {
    margin-bottom: var(--space-lg);
  }

  .year-header {
    font-size: var(--text-md);
    font-weight: 700;
    color: var(--color-sage);
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-xs);
    border-bottom: 2px solid var(--color-sage-light);
  }

  .publications-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
  }

  .publication-item {
    background: rgba(250, 247, 240, 0.6);
    border: 1px solid var(--color-parchment);
    border-radius: 8px;
    padding: var(--space-md);
    box-shadow: 0 2px 8px rgba(139, 90, 60, 0.1);
    transition: box-shadow 0.2s ease;
  }

  .publication-item:hover {
    box-shadow: 0 4px 16px rgba(139, 90, 60, 0.15);
  }

  .publication-title {
    font-size: var(--text-md);
    font-weight: 600;
    color: var(--color-ink-dark);
    margin-bottom: var(--space-xs);
    line-height: 1.4;
  }

  .publication-authors {
    font-size: var(--text-sm);
    margin-bottom: var(--space-xs);
    color: var(--color-ink-medium);
  }

  .author-self {
    font-weight: 600;
    color: var(--color-ink-dark);
  }

  .author {
    color: var(--color-ink-medium);
  }

  .publication-venue {
    font-size: var(--text-sm);
    color: var(--color-ink-light);
    margin-bottom: var(--space-sm);
    font-style: italic;
  }

  .publication-type {
    display: inline-block;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: var(--text-xs);
    font-weight: 600;
    font-style: normal;
    margin-right: var(--space-xs);
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .type-preprint {
    background: rgba(255, 193, 7, 0.2);
    color: #b8860b;
  }

  .type-journal {
    background: rgba(40, 167, 69, 0.2);
    color: #155724;
  }

  .type-thesis {
    background: rgba(108, 117, 125, 0.2);
    color: #495057;
  }

  .publication-links {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
    margin-top: var(--space-sm);
  }

  .pub-link {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 4px 8px;
    background: var(--color-parchment-light);
    border: 1px solid var(--color-sage-light);
    border-radius: 4px;
    text-decoration: none;
    font-size: var(--text-xs);
    color: var(--color-ink-dark);
    transition: all 0.2s ease;
  }

  .pub-link:hover {
    background: var(--color-sage-light);
    border-color: var(--color-sage);
    transform: translateY(-1px);
  }

  .link-icon {
    font-size: 12px;
  }

  .research-interests {
    margin-top: var(--space-xl);
  }

  .interests-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-md);
    margin-top: var(--space-md);
  }

  .interest-item {
    background: rgba(250, 247, 240, 0.4);
    border: 1px solid var(--color-parchment);
    border-radius: 8px;
    padding: var(--space-md);
  }

  .interest-item h3 {
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--color-sage);
    margin-bottom: var(--space-xs);
  }

  .interest-item p {
    font-size: var(--text-sm);
    color: var(--color-ink-medium);
    line-height: 1.5;
  }

  /* Mobile responsiveness */
  @media (max-width: 640px) {
    .research-container {
      padding: var(--space-lg) var(--space-md);
    }

    .publication-links {
      flex-direction: column;
      align-items: flex-start;
    }

    .pub-link {
      align-self: flex-start;
    }

    .interests-grid {
      grid-template-columns: 1fr;
    }
  }
</style>